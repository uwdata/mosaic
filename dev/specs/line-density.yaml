data:
  sinusoids: { file: data/sinusoids.parquet }
params:
  brush: { type: intersect }
  bw: { value: 0 }
  bs: { value: 1 }
vconcat:
- hconcat:
  - input: slider
    label: Bandwidth (Ïƒ)
    as: $bw
    min: 0
    max: 10
    step: 0.1
  - input: menu
    label: Bin Scale
    as: $bs
    options:
      - { value: 0.5 }
      - { value: 1 }
      - { value: 2}
- plot:
  - mark: denseLine
    data: { from: sinusoids, filterBy: $brush }
    x: t
    y: v
    z: s
    fill: density
    bandwidth: $bw
    binScale: $bs
  schemeColor: viridis
  labelY: Value (normalized lines)
  width: 800
  height: 300
- plot:
  - mark: denseLine
    data: { from: sinusoids }
    x: t
    y: v
    z: s
    fill: density
    normalize: false
    bandwidth: $bw
    binScale: $bs
  - select: intervalXY
    as: $brush
  schemeColor: viridis
  labelY: Value (unnormalized lines)
  width: 800
  height: 300